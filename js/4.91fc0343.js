(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{bd8c:function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("q-card",[n("q-card-actions",{attrs:{vertical:""}},[n("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"primary",label:"Register Blue"},on:{click:e.connectAsync}}),e._v("\n      "+e._s(e.connect)+" "),n("br"),e._v("\n      "+e._s(e.sent)+" "),n("br"),e._v("\n      "+e._s(e.receive)+" "),n("br"),e._v("\n      "+e._s(e.disconnected)),n("br"),e._v("\n      "+e._s(e.errors)+"\n      ")],1)],1),n("q-card",[n("q-card-actions",{attrs:{vertical:""}},[n("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"primary",label:"Register Blue"},on:{click:e.connectBlue}}),e._v("\n      "+e._s(e.connect)+" "),n("br"),e._v("\n      "+e._s(e.sent)+" "),n("br"),e._v("\n      "+e._s(e.receive)+" "),n("br"),e._v("\n      "+e._s(e.disconnected)),n("br"),e._v("\n      "+e._s(e.errors)+"\n      ")],1)],1),n("q-card",[n("q-card-actions",{attrs:{vertical:""}},[n("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"primary",label:"Register"},on:{click:e.connectDigiReg}}),e._v("\n      "+e._s(e.connect)+" "),n("br"),e._v("\n      "+e._s(e.sent)+" "),n("br"),e._v("\n      "+e._s(e.receive)+" "),n("br"),e._v("\n      "+e._s(e.disconnected)),n("br"),e._v("\n      "+e._s(e.errors)+"\n      ")],1)],1)],1)},r=[],i=(n("e6cf"),{name:"DigiRegTest",data(){return{connect:"c",sent:"s",receive:"r",disconnected:"d",errors:"e",currentDevice:null}},methods:{log(e){console.log(e)},async connectAsync(){const e="6e400001-b5a3-f393-e0a9-e50e24dcca9e",t="6e400002-b5a3-f393-e0a9-e50e24dcca9e";this.log("Requesting Bluetooth Device...");const n=await navigator.bluetooth.requestDevice({filters:[{services:[e]}]});this.log("Connecting to GATT Server...");const c=await n.gatt.connect();this.log("Getting Service...");const r=await c.getPrimaryService(e);this.log("Getting RX Characteristic...");const i=await r.getCharacteristic(t);this.log("Writing RX Characteristic...");const s=new TextEncoder,a=s.encode(JSON.stringify({hello:"world"}),"utf-8"),o=await i.writeValue(a);this.log(o);const l=await n.gatt.disconnect();this.log(l)},connectBlue(){var e=null,t=null;navigator.bluetooth.requestDevice({filters:[{services:[serviceUuid]}]}).then((function(t){return e=t,t.gatt.connect()})).then((function(e){return e.getPrimaryService(serviceUuid)})).then((function(e){return t=e,e.getCharacteristic(RXcharacteristicUuid)})).then((function(e){const t=JSON.stringify({hello:"worlds"}),n=new TextEncoder("utf-8");return e.writeValue(n.encode(t))})).then((function(){return t.getCharacteristic(TXcharacteristicUuid)})).then((function(e){const t=JSON.stringify({hello:"worlds"}),n=new TextEncoder("utf-8");return e.writeValue(n.encode(t))})).then((function(){e.gatt.disconnect()})).catch((function(e){console.error("Connection failed!",e)}))},async connectDigiReg(){const e="6e400001-b5a3-f393-e0a9-e50e24dcca9e",t="6e400002-b5a3-f393-e0a9-e50e24dcca9e",n="6e400003-b5a3-f393-e0a9-e50e24dcca9e",c=await navigator.bluetooth.requestDevice({filters:[{services:[e]}]}),r=await c.gatt.connect();this.connect="connect";const i=await r.getPrimaryService(e),s=await i.getCharacteristic(n);s.addEventListener("characteristicvaluechanged",this.onDigiRegDataReceived),s.startNotifications();const a=await i.getCharacteristic(t),o=new TextEncoder,l=o.encode(JSON.stringify({hello:"world"}),"utf-8");this.sent=l,await a.writeValue(l)},onDigiRegDataReceived(e){const t=new TextDecoder("utf-8"),n=JSON.parse(t.decode(e.target.value));console.log(n),this.receive=n,e.currentTarget.service.device.gatt.disconnect()},onDisconnected(e){console.log(e.target.value),this.disconnected="disconnected"}}}),s=i,a=n("2877"),o=Object(a["a"])(s,c,r,!1,null,null,null);t["default"]=o.exports}}]);