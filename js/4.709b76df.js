(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{bd8c:function(e,t,c){"use strict";c.r(t);var n=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"q-pa-md"},[c("q-card",[c("q-card-actions",{attrs:{vertical:""}},[c("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"primary",label:"Register Blue"},on:{click:e.connectAsync}}),e._v("\n      "+e._s(e.connect)+" "),c("br"),e._v("\n      "+e._s(e.sent)+" "),c("br"),e._v("\n      "+e._s(e.receive)+" "),c("br"),e._v("\n      "+e._s(e.disconnected)),c("br"),e._v("\n      "+e._s(e.errors)+"\n      ")],1)],1),c("q-card",[c("q-card-actions",{attrs:{vertical:""}},[c("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"primary",label:"Register Blue"},on:{click:e.connectBlue}}),e._v("\n      "+e._s(e.connect)+" "),c("br"),e._v("\n      "+e._s(e.sent)+" "),c("br"),e._v("\n      "+e._s(e.receive)+" "),c("br"),e._v("\n      "+e._s(e.disconnected)),c("br"),e._v("\n      "+e._s(e.errors)+"\n      ")],1)],1),c("q-card",[c("q-card-actions",{attrs:{vertical:""}},[c("q-btn",{staticClass:"glossy",attrs:{rounded:"",color:"primary",label:"Register"},on:{click:e.connectDigiReg}}),e._v("\n      "+e._s(e.connect)+" "),c("br"),e._v("\n      "+e._s(e.sent)+" "),c("br"),e._v("\n      "+e._s(e.receive)+" "),c("br"),e._v("\n      "+e._s(e.disconnected)),c("br"),e._v("\n      "+e._s(e.errors)+"\n      ")],1)],1),e._v("   \n  "+e._s(e.logs)+" \n")],1)},r=[],i=(c("e6cf"),{name:"DigiRegTest",data(){return{connect:"c",sent:"s",receive:"r",disconnected:"d",errors:"e",currentDevice:null,logs:[]}},methods:{log(e){console.log(e),this.logs.push(e)},async connectAsync(){const e=this.log;try{const t="6e400001-b5a3-f393-e0a9-e50e24dcca9e",c="6e400002-b5a3-f393-e0a9-e50e24dcca9e",n="6e400003-b5a3-f393-e0a9-e50e24dcca9e";e("Requesting Bluetooth Device...");const r=await navigator.bluetooth.requestDevice({filters:[{services:[t]}]});e("Connecting to GATT Server...");const i=await r.gatt.connect();e("Getting Service...");const a=await i.getPrimaryService(t);e("Getting TX Characteristic...");const s=await a.getCharacteristic(n);e("TX Characteristic addEventListener..."),await s.addEventListener("characteristicvaluechanged",(function(t,c,n,r){e("TX Characteristic Value Changed..."),e(t),e(c+n+r);const i=new TextDecoder("utf-8"),a=JSON.parse(i.decode(t.target.value));e(a)})),await s.startNotifications(),e("Getting RX Characteristic...");const o=await a.getCharacteristic(c);e("Writing RX Characteristic...");const l=new TextEncoder,d=l.encode(JSON.stringify({hello:"world"}),"utf-8"),u=await o.writeValue(d);e(u),e("Sleep"),await new Promise((e=>setTimeout(e,2e3))),e("Disconnect");const g=await r.gatt.disconnect();e(g)}catch(t){e("error"),e(t)}},connectBlue(){var e=null,t=null;navigator.bluetooth.requestDevice({filters:[{services:[serviceUuid]}]}).then((function(t){return e=t,t.gatt.connect()})).then((function(e){return e.getPrimaryService(serviceUuid)})).then((function(e){return t=e,e.getCharacteristic(RXcharacteristicUuid)})).then((function(e){const t=JSON.stringify({hello:"worlds"}),c=new TextEncoder("utf-8");return e.writeValue(c.encode(t))})).then((function(){return t.getCharacteristic(TXcharacteristicUuid)})).then((function(e){const t=JSON.stringify({hello:"worlds"}),c=new TextEncoder("utf-8");return e.writeValue(c.encode(t))})).then((function(){e.gatt.disconnect()})).catch((function(e){console.error("Connection failed!",e)}))},async connectDigiReg(){const e="6e400001-b5a3-f393-e0a9-e50e24dcca9e",t="6e400002-b5a3-f393-e0a9-e50e24dcca9e",c="6e400003-b5a3-f393-e0a9-e50e24dcca9e",n=await navigator.bluetooth.requestDevice({filters:[{services:[e]}]}),r=await n.gatt.connect();this.connect="connect";const i=await r.getPrimaryService(e),a=await i.getCharacteristic(c);a.addEventListener("characteristicvaluechanged",this.onDigiRegDataReceived),a.startNotifications();const s=await i.getCharacteristic(t),o=new TextEncoder,l=o.encode(JSON.stringify({hello:"world"}),"utf-8");this.sent=l,await s.writeValue(l)},onDigiRegDataReceived(e){const t=new TextDecoder("utf-8"),c=JSON.parse(t.decode(e.target.value));console.log(c),this.receive=c,e.currentTarget.service.device.gatt.disconnect()},onDisconnected(e){console.log(e.target.value),this.disconnected="disconnected"}}}),a=i,s=c("2877"),o=Object(s["a"])(a,n,r,!1,null,null,null);t["default"]=o.exports}}]);